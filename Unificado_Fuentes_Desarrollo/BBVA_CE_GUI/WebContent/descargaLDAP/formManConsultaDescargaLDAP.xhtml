<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<f:loadBundle basename="com.ibm.bbva.messages.Messages" var="msg" />
<h:head>
	<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Cache-Control" content="no-cache" />
	<meta http-equiv="Expires" content="0" />
	<h:outputStylesheet library="css/jquery-ui" name="jquery-ui.css"
		target="head" />
	<h:outputStylesheet library="css/theme" name="stylesheet.css"
		target="head" />
	<h:outputStylesheet library="css/style" name="style.css" target="head" />
	<h:outputStylesheet library="css/style" name="stylecabecera.css"
		target="head" />
	<h:outputStylesheet library="css/style" name="stylemenu.css"
		target="head" />
	<h:outputScript library="js" name="jquery-1.8.2.js" target="head" />
	<h:outputScript library="js" name="jquery-ui.js" target="head" />
	<h:outputScript library="js" name="jquery-1.8.2.js" target="head" />
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>JSP Page</title>
	<script type="text/javascript" language="javascript">

			function cambiarEstado (comp) 
			{	
				var opcion = $(comp).attr('checked'); 		    			
				$(".seleccionar").each(function() {
					$(this).attr('checked', false);
				});
			
				$(comp).attr('checked', opcion);			
			}
			
			function confirmarElimina(comp) {
			  var filas = document.getElementById("consultarTabla:registrosTablaDTB").rows.length - 1;
			  var ok, resultado=false;
			  for (i=0; filas>i; i++) {			      
			      ok=document.getElementById("consultarTabla:registrosTablaDTB:"+i+":rowSelect1").checked;
			      if(ok){
			        resultado = confirm('Est√° seguro que desea eliminar el elemento seleccionado?');
			        break;
			      }			    
			  }		  
			 return resultado;
			}
			
		</script>
</h:head>
<h:body>
	<h:form id="consultarTabla">
		<div class="contenido">
			<div class="cabecera">
				<ui:include src="/resources/common/cabecera.xhtml" />
			</div>
			<div class="cuerpo">
				<div class="menu">
					<ui:include src="/resources/common/menu.xhtml" />
				</div>
				<div class="datos">
					<h:panelGrid styleClass="bloque">
						<h:panelGroup styleClass="titulo">
							<h:outputText id="nombreTablaOTX"
								value="Mantenimiento - Descarga LDAP" />
							<h:outputText value=" " />
						</h:panelGroup>
						<h:panelGroup id="idConsultaTabla">		
								    <h:panelGroup>
										<table width="100%" border="0" align="center" cellspacing="0">
											<tr>
												<td valign="top">
													<table width="100%">
														<tr>
															<td align="left" valign="top" width="100%">
																<table>
																	<tr>
																		<td>
																			<h:outputText value="#{msg['com.ibm.bbva.common.descargaLDAP.msg.tipo']}:" class="etiqueta"/>
																		</td>
																		<td>
																			<h:selectOneMenu id="cmbFiltroTipo"
																					value="#{descargaLDAP.filtroSeleccionadoTipo}" styleClass="select">																					
																						<f:selectItems value="#{descargaLDAP.listaTipo}" />																					
																				</h:selectOneMenu>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<h:outputText value="#{msg['com.ibm.bbva.common.descargaLDAP.msg.codigo']}:" class="etiqueta"/>
																		</td>
																		<td>
																			<h:inputText size="20"
																				maxlength="100" id="txtFiltroCodigo"
																				value="#{descargaLDAP.filtroSeleccionadoCodigo}" 
																				styleClass="caja-texto">
																			</h:inputText>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<h:outputText value="#{msg['com.ibm.bbva.common.descargaLDAP.msg.carterizacion']}:" class="etiqueta"/>
																		</td>
																		<td>
																			<h:selectOneMenu id="cmbFiltroCarterizacion"
																					value="#{descargaLDAP.filtroSeleccionadoCarterizacion}" styleClass="select">																					
																						<f:selectItems value="#{descargaLDAP.listaCarterizacionFiltro}" />																					
																				</h:selectOneMenu>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<h:outputText value="#{msg['com.ibm.bbva.common.descargaLDAP.msg.estado']}:" class="etiqueta"/>
																		</td>
																		<td>
																			<h:selectOneMenu id="cmbFiltroEstado"
																					value="#{descargaLDAP.filtroSeleccionadoEstado}" styleClass="select">																					
																						<f:selectItems value="#{descargaLDAP.listaEstado}" />																					
																				</h:selectOneMenu>
																		</td>
																	</tr>
																</table>
															</td>
														</tr>
									
									                       <h:panelGroup style="margin-bottom:10px;" styleClass="etiqueta">
														   <h:outputText value=" " />
														   <tr>						
															  <td align="left">
															   
																<h:commandButton id="buscar" action="#{descargaLDAP.buscar}"
																	value="Buscar" styleClass="boton"/>
																<h:commandButton id="limpiar" action="#{descargaLDAP.limpiar}" 
																	value="Limpiar" styleClass="boton"/>
															   
															  </td>
														   </tr>					
														   <h:outputText value=" " />	
														</h:panelGroup>
									
													</table>
												</td>
											</tr>
										</table>
									</h:panelGroup>
						</h:panelGroup>
						<h:panelGroup style="overflow-x: auto; width: 750px;height: 440px">
							<table width="750px" border="0" cellpadding="0" cellspacing="0">
								<tr>
									<td styleClass="textotitulo">
										<h:dataTable border="1" styleClass="tablaTask" style="border-collapse:collapse;" 
												columnClasses="text,text,text" headerClass="headerClass headerTabla1"
												rowClasses="uno,dos" id="idTablaEnvioCorreo" rendered="#{not empty descargaLDAP.listaDescargaLDAP}"
												value="#{descargaLDAP.listaDescargaLDAP}" var="item" footerClass="fondo"
												rows="10" binding="#{descargaLDAP.dataTable}" >
												<h:column width="5%" align="center">
													<f:facet name="header">
														<h:outputText value="Sel."></h:outputText>
													</f:facet>
													<h:selectBooleanCheckbox id="idSelect" value="#{item.seleccion}" styleClass="seleccionar" onclick="cambiarEstado(this);">											
													</h:selectBooleanCheckbox>
												</h:column>		
												<h:column width="5%">
													<f:facet name="header">
														<h:outputText
															value="#{msg['com.ibm.bbva.common.descargaLDAP.msg.id']}"
															styleClass="tabla-titulo"></h:outputText>
													</f:facet>
													<h:outputText value="#{item.id}" styleClass="tabla-campo-texto"></h:outputText>
												</h:column>	
												<h:column width="15%">
													<f:facet name="header">
														<h:outputText
															value="#{msg['com.ibm.bbva.common.descargaLDAP.msg.tipo']}"
															styleClass="tabla-titulo"></h:outputText>
													</f:facet>
													<h:outputText value="#{item.tipo}" styleClass="tabla-campo-texto"></h:outputText>
												</h:column>	
												<h:column width="20%">
													<f:facet name="header">
														<h:outputText
															value="#{msg['com.ibm.bbva.common.descargaLDAP.msg.codigo']}"
															styleClass="tabla-titulo"></h:outputText>
													</f:facet>
													<h:outputText value="#{item.codigo}" styleClass="tabla-campo-texto"></h:outputText>
												</h:column>		
												<h:column width="45%">
													<f:facet name="header">
														<h:outputText
															value="#{msg['com.ibm.bbva.common.descargaLDAP.msg.carterizacion']}"
															styleClass="tabla-titulo"></h:outputText>
													</f:facet>
													<h:outputText value="#{item.carterizacion}" styleClass="tabla-campo-texto"></h:outputText>
												</h:column>	
												<h:column width="10%" align="center">
													<f:facet name="header">
														<h:outputText
															value="Activo"
															styleClass="tabla-titulo"></h:outputText>
													</f:facet>
													<h:selectBooleanCheckbox value="#{item.flagActivo}" disabled="true">
													</h:selectBooleanCheckbox>
											    </h:column>															
											</h:dataTable>	
									</td>
								</tr>
								<tr>
									<td styleClass="textotitulo">
									<h:message for="registrosTablaDTB" /></td>
								</tr>
							</table>
						</h:panelGroup>

						<h:panelGroup style="margin-bottom:10px;" styleClass="etiqueta">
							<table width="100%" border="0" cellpadding="0" cellspacing="0">
								<tr>
									<h:outputText value=" " />
								</tr>
							</table>
						</h:panelGroup>

						<h:panelGroup>
							<table width="100%" border="0" cellpadding="0" cellspacing="0">
								<tr>
									<td align="left">
									<h:commandButton id="agregar"
											action="#{descargaLDAP.agregar}" value="Agregar"
											styleClass="boton" /> 
									<h:commandButton id="actualizar"
											action="#{descargaLDAP.editar}" value="Actualizar"
											styleClass="boton" /> 
									<h:commandButton value="&#60;&#60;anterior"
										actionListener="#{descargaLDAP.pagePrevious}"  styleClass="boton"
										disabled="#{descargaLDAP.dataTable.first == 0}" />
									<h:commandButton value="siguiente&#62;&#62;"
										actionListener="#{descargaLDAP.pageNext}"  styleClass="boton"
										disabled="#{descargaLDAP.dataTable.first + descargaLDAP.dataTable.rows >= descargaLDAP.dataTable.rowCount}" />
									</td>
								</tr>
							</table>
						</h:panelGroup>
						
						<h:panelGroup style="margin-bottom:10px;" styleClass="etiqueta">
							<table width="100%" border="0" cellpadding="0" cellspacing="0">
								<tr>
									<td><h:messages styleClass="mensaje-error"
											globalOnly="true"></h:messages></td>
								</tr>
							</table>
						</h:panelGroup>
					</h:panelGrid>
				</div>
			</div>
		</div>
	</h:form>
</h:body>
</html>